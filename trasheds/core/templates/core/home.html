{% extends 'core/base.html' %}
{% load static %}
{% block title %}Inicio{% endblock %}
{% block content %}

<section class="slider">
  <ul class="slides">
    <li>
      <img src="{% static 'core/img/fondo_uno.jpg' %}" />
      <div class="caption center-align">
        <h1>{{title}}</h1>
        <h5 class="light grey-text text-lighten-3">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Facilis
          suscipit odio, explicabo sapiente totam nesciunt.</h5>
      </div>
    </li>
    <li>
      <img src="{% static 'core/img/fondo_dos.jpg' %}" />
      <div class="caption left-align">
        <h3>History 1</h3>
        <h5 class="light grey-text text-lighten-3">Lorem ipsum dolor, sit amet consectetur.</h5>
      </div>
    </li>
    <li>
      <img src="{% static 'core/img/fondo_tres.jpg' %}" />
      <div class="caption right-align">
        <h3>History 2</h3>
        <h5 class="light grey-text text-lighten-3">Lorem ipsum dolor, sit amet consectetur.</h5>
      </div>
    </li>

  </ul>
</section>

<!-- <section>
  <div class="row">
    <div class="col s12 m5">
      <div class="card-panel teal">
        <span class="white-text">I am a very simple card. I am good at containing small bits of information.
        I am convenient because I require little markup to use effectively. I am similar to what is called a panel in other frameworks.
        </span>
      </div>
    </div>
    
  </div>
</section> -->
<main style="background-color: white;">

  <div class="container">
    <div class="section">

      <!--   Icon Section   -->
      <div class="row">
        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center black-text"><i class="material-icons">flash_on</i></h2>
            <h5 class="center">Speeds up development</h5>

            <p class="light">We did most of the heavy lifting for you to provide a default stylings that incorporate our
              custom components. Additionally, we refined animations and transitions to provide a smoother experience
              for developers.</p>
          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center black-text"><i class="material-icons">group</i></h2>
            <h5 class="center">User Experience Focused</h5>

            <p class="light">By utilizing elements and principles of Material Design, we were able to create a framework
              that incorporates components and animations that provide more feedback to users. Additionally, a single
              underlying responsive system across all platforms allow for a more unified user experience.</p>
          </div>
        </div>

        <div class="col s12 m4">
          <div class="icon-block">
            <h2 class="center black-text"><i class="material-icons">settings</i></h2>
            <h5 class="center">Easy to work with</h5>

            <p class="light">We have provided detailed documentation as well as specific code examples to help new users
              get started. We are also always open to feedback and can answer any questions a user may have about
              Materialize.</p>
          </div>
        </div>
      </div>

    </div>
    <br><br>
  </div>



</main>
<div class="container">
  <br>
  <section style="text-align:center ;">
    <div class="row">
      <div class="col s12 ">
        <div class="card teal lighten-5">
          <div class="card-content white-text">
            <h3 class="teal-text text-darken-4">Contactanos</h3>
            <br><br>
            <div class="row">
              <div class="container">
                <form class="col s12" action="{% url 'upload_file' %}" method="post" id="contact">
                  <div class="row">
                    <div class="input-field col s6">
                      <i class="material-icons prefix grey-text text-darken-2">face</i>
                      <input id="icon_face" type="text" name="name" class="validate" required="required">
                      <label for="icon_face">Name</label>
                    </div>
                    <div class="input-field col s6">
                      <i class="material-icons prefix grey-text text-darken-2">email</i>
                      <input id="icon_email" type="email" class="validate" name="email" required="required">
                      <label for="icon_email" data-error="Write your email again please!"
                        data-success="OK, you're good!">Email</label>
                    </div>
                  </div>
                  <div class="row" style="text-align: center;">
                    <div class="input-field col s12">
                      <i class="material-icons prefix grey-text text-darken-2">phone</i>
                      <input id="icon_telephone" type="tel" class="validate" name="phone" required="required">
                      <label for="icon_telephone" data-error="Write your phone again please!"
                        data-success="OK, you're good!">Phone</label>
                    </div>

                    <span class="green-text text-darken-4" id="notiffication"></span>
                  </div>
                  <div class="row" style="text-align: center;">
                    <button class="btn waves-effect waves-light valign-wrapper" type="submit" name="action">Enviar
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

  </section>
</div>
<footer class="page-footer black">

  <div class="social-container">
    <a href="#"><i class="fab fa-facebook-square"></i></a>
    <a href="#"><i class="fab fa-instagram"></i></a>
    <a href="#"><i class="fab fa-twitter"></i></a>
    <a href="#"><i class="fab fa-youtube"></i></a>
  </div>
  <div class="footer-copyright">
    <div class="container center footer-text">
      &copf; Trasheds - 2022
    </div>
  </div>
</footer>

<script>

  function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) == ' ') c = c.substring(1);
      if (c.indexOf(name) == 0)
        return c.substring(name.length, c.length);
    }
    return "";
  }


  contact.onsubmit = async (e) => {
    e.preventDefault();
    let fetchData = {
      method: 'POST',
      body: new FormData(contact),
      headers: { "X-CSRFToken": getCookie("csrftoken") },
    }
    let url = "{% url 'upload_contact' %}"
    fetch(url, fetchData).then(response => response.json()).then(function (response) {
      if (response.response) {
        //var text = document.createTextNode(response.status);
        document.getElementById("icon_face").value = "";
        document.getElementById("icon_email").value = "";
        document.getElementById("icon_telephone").value = "";

        let alert = document.getElementById("notiffication");
        alert.innerHTML = "Estaremos en contacto contigo.";
      }
    });
  };


</script>
{% endblock %}